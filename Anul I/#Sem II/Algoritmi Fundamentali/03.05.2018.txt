Creati un nou proiect Windows Forms App, si puneti un pictureBox. Dati dublu click pe pictureBox.
La curs, clasele s-au creat in fisiere noi. Voi puteti sa le puneti impreuna, deasupra clasei Form1 : Form

public class Unit
    {
        public float accuracy;
        public float damage;
        public float speed;
        public float size;
        public float dexterity;
        public float armor;
        public float hp;
        public PointF location;
        public string name;
        public Player owner;

        public Unit(string name, PointF location, float hp, float armor, float dexterity, float size, float speed, float damage, float accuracy)
        {
            this.name = name;
            this.location = location;
            this.hp = hp;
            this.armor = armor;
            this.dexterity = dexterity;
            this.size = size;
            this.speed = speed;
            this.damage = damage;
            this.accuracy = accuracy;
        }

        public void Draw()
        {
            Engine.grp.DrawEllipse(new Pen(owner.backColor), location.X - size, location.Y - size, 2 * size, 2 * size);
        }
    }

public class Player
    {
        public Color backColor;
        public Player()
        {
            backColor = Color.FromArgb(Engine.r.Next(256), Engine.r.Next(256), Engine.r.Next(256));
        }
    }

public static class Engine
    {
        public static PictureBox display;
        public static Random r = new Random();
        public static Player player1, player2;
        public static List<Unit> army1 = new List<Unit>();
        public static List<Unit> army2 = new List<Unit>();
        public static Bitmap bmp;
        public static Graphics grp;

        public static void InitGraf()
        {
            bmp = new Bitmap(display.Width, display.Height);
            grp = Graphics.FromImage(bmp);

        }

        public static PointF GetRandomPoint()
        {
            return new PointF(r.Next(display.Width), r.Next(display.Height));
        }
        public static void InitGame()
        {
            player1 = new Player();
            player2 = new Player();
            for (int i=1; i<=10; i++)
            {
                army1.Add(new Unit("peasant" + i, GetRandomPoint(), 10, 0, 5, 5, 5, 5, 20));
            }
            army1.Add(new Unit("Sefu", GetRandomPoint(), 20, 5, 5, 5, 5, 5, 20));

            for (int i = 1; i <= 5; i++)
            {
                army2.Add(new Unit("Ogre" + i, GetRandomPoint(), 25, 10, 15, 15, 15, 15, 10));
            }
            army2.Add(new Unit("Black Dragon", GetRandomPoint(), 100, 50, 25, 25, 25, 25, 20));

            foreach (Unit u in army1)
            {
                u.owner = player1;
            }
            foreach (Unit u in army2)
            {
                u.owner = player2;
            }
        }

        public static void DrawMap()
        {
            foreach (Unit u in army1)
            {
                u.Draw();
            }
            foreach (Unit u in army2)
            {
                u.Draw();
            }
        }
        
        public static bool T(int a, int b)
        {
            int l = r.Next(a + b);
            if (l <= a) return true;
            return false;
        }

        public static void Battle(Unit a, Unit b)
        {
            int dev = r.Next((int)a.accuracy);
            if (dev < b.size)
            {
                if (T((int)a.speed, (int)b.dexterity))
                {
                    if (T((int)a.damage, (int)b.armor))
                    {
                        b.hp -= a.damage;
                    }
                    else
                    {
                        // defended
                    }
                }
                else
                {
                    //dodge
                }
            }
            else
            {
                // miss
            }
        }

    }

public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            Engine.display = pictureBox1;
            Engine.InitGame();
            Engine.InitGraf();
            Engine.DrawMap();
            pictureBox1.Image = Engine.bmp;
        }
    }